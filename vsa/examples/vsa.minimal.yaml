# VSA Configuration - Minimal Example
# This is a minimal, practical configuration for getting started

version: 2
architecture: "hexagonal-event-sourced-vsa"
language: "typescript"

# ============================================================================
# DOMAIN LAYER
# ============================================================================

domain:
  path: "domain"
  
  aggregates:
    path: "."
    pattern: "*Aggregate.ts"
    require_suffix: true
  
  commands:
    path: "commands"
    pattern: "**/*Command.ts"
    require_suffix: true
    require_aggregate_id: true
    organize_by_feature: true
  
  queries:
    path: "queries"
    pattern: "**/*Query.ts"
    require_suffix: true
  
  events:
    path: "events"
    pattern: "**/*Event.ts"
    require_suffix: true
    
    versioning:
      enabled: true
      format: "simple"  # 'v1', 'v2', 'v3'
      require_decorator: true
      require_upcasters: true
      versioned_path: "_versioned"
      upcasters_path: "_upcasters"

# ============================================================================
# SLICES LAYER
# ============================================================================

slices:
  path: "slices"
  types:
    - "command"
    - "query"
    - "saga"
  
  command:
    must_use: "CommandBus"
    max_lines: 50
    require_tests: true
    no_business_logic: true
  
  query:
    require_projection: true
    max_lines: 100
    require_tests: true
  
  saga:
    must_use: "EventBus"
    can_send_commands: true
    require_error_handling: true

# ============================================================================
# INFRASTRUCTURE LAYER
# ============================================================================

infrastructure:
  path: "infrastructure"
  allowed:
    - "CommandBus"
    - "QueryBus"
    - "EventBus"
    - "*Repository"

# ============================================================================
# VALIDATION
# ============================================================================

validation:
  architecture:
    enforce_hexagonal: true
    domain_isolated: true
    no_business_logic_in_slices: true
    slices_isolated: true
  
  cqrs:
    enforce_separation: true
    commands_use_command_bus: true
    queries_use_query_bus: true
  
  event_sourcing:
    require_event_versioning: true
    require_upcasters_for_changes: true
  
  decorators:
    require_event_decorator: true
    require_version_parameter: true
  
  require_tests: true
  fail_on_errors: true

