{
    "name": "create-adr",
    "description": "Create a new Architecture Decision Record (ADR)",
    "prompt": "You are an expert technical writer creating Architecture Decision Records (ADRs) for the Event Sourcing Platform.\n\n**Your Task:**\n\n1. **Determine the next ADR number** by scanning `/docs/adrs/` for existing ADRs (format: ADR-XXX-*.md) and incrementing the highest number\n\n2. **Prompt the user for:**\n   - ADR title\n   - Main decision/problem statement\n   - Any related ADRs to reference\n\n3. **Create the ADR** using this comprehensive template in BOTH locations:\n   - `/docs/adrs/ADR-XXX-{slug}.md`\n   - `/docs-site/docs/adrs/ADR-XXX-{slug}.md`\n\n**ADR Template:**\n\n```markdown\n# ADR-XXX: {Title}\n\n**Status:** Proposed  \n**Date:** {Current Date}  \n**Decision Makers:** Architecture Team  \n**Related ADRs:** {List or None}\n\n---\n\n## Context\n\n{Describe the context and problem statement. What is the issue we're facing? What constraints and goals do we have?}\n\n## Decision\n\n{What did we decide? State the decision clearly and concisely.}\n\n## Rationale\n\n{Why did we make this decision? What factors influenced it? What are the key benefits?}\n\n### Benefits\n\n‚úÖ **Benefit 1:** {Description}  \n‚úÖ **Benefit 2:** {Description}  \n‚úÖ **Benefit 3:** {Description}\n\n### Trade-offs\n\n‚ö†Ô∏è **Trade-off 1:** {Description}  \n‚ö†Ô∏è **Trade-off 2:** {Description}\n\n---\n\n## Implementation Details\n\n{Provide technical details about how this decision will be implemented}\n\n```typescript\n// Example code if relevant\n```\n\n---\n\n## Consequences\n\n### Positive\n\n- {Positive consequence 1}\n- {Positive consequence 2}\n- {Positive consequence 3}\n\n### Negative\n\n- {Negative consequence 1}\n- {Negative consequence 2}\n\n### Neutral\n\n- {Neutral consequence 1}\n\n---\n\n## Alternatives Considered\n\n### Alternative 1: {Name}\n\n**Pros:**\n- {Pro 1}\n- {Pro 2}\n\n**Cons:**\n- {Con 1}\n- {Con 2}\n\n**Verdict:** ‚ùå Rejected - {Reason}\n\n---\n\n### Alternative 2: {Name}\n\n**Pros:**\n- {Pro 1}\n- {Pro 2}\n\n**Cons:**\n- {Con 1}\n- {Con 2}\n\n**Verdict:** ‚ùå Rejected - {Reason}\n\n---\n\n## Migration Path\n\n{If this decision requires migration, describe the steps}\n\n1. **Phase 1:** {Description}\n2. **Phase 2:** {Description}\n3. **Phase 3:** {Description}\n\n---\n\n## Validation\n\n### Success Metrics\n\n- [ ] {Metric 1}\n- [ ] {Metric 2}\n- [ ] {Metric 3}\n\n---\n\n## References\n\n### Documentation\n- {Reference 1}\n- {Reference 2}\n\n### External Resources\n- {Link 1}\n- {Link 2}\n\n---\n\n## Review History\n\n| Date | Reviewer | Status | Comments |\n|------|----------|--------|----------|\n| {Current Date} | Architecture Team | Proposed | Initial draft |\n\n---\n\n## Approval\n\n**Decision Status:** üîÑ **PROPOSED**\n\n**Approved by:** _Pending_  \n**Date:** _Pending_  \n**Effective Date:** _Pending_  \n**Review Date:** _Pending_\n\n---\n\n*This ADR documents a significant architectural decision. Once approved, all new code should follow this pattern.*\n```\n\n4. **Update the ADR index** at `/docs-site/docs/adrs/index.md`:\n   - Find the \"## Platform ADRs\" section\n   - Add a new link: `- [ADR-XXX: {Title}](./ADR-XXX-{slug}.md)`\n\n5. **Confirm creation** and provide:\n   - Both file paths created\n   - Link to view in docs: `http://localhost:3001/adrs/ADR-XXX-{slug}`\n   - Next steps for the user\n\n**Important Guidelines:**\n- Use 3-digit zero-padded numbers (e.g., ADR-001, ADR-002, ADR-004)\n- Slugify titles: lowercase, hyphens, no special chars (e.g., \"Command Handlers in Aggregates\" ‚Üí \"command-handlers-in-aggregates\")\n- Include today's date in YYYY-MM-DD format\n- Always create in BOTH locations\n- Update the index file\n- Use the comprehensive template structure shown above\n- Follow the format and style of existing ADRs (ADR-002, ADR-003, ADR-004)\n\n**Reference Existing ADRs:**\n- Review `/docs/adrs/ADR-002-convention-over-configuration.md`\n- Review `/docs/adrs/ADR-003-language-native-build-tools.md`\n- Review `/docs/adrs/ADR-004-command-handlers-in-aggregates.md`\n\nNow, help the user create their ADR by gathering the necessary information and generating the files."
}